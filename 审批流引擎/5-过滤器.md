### 过滤器

#### sql策略

1 条件  fieldValue oprate  targetValue

2 条件逻辑 （1 AND 2 ( 3 OR 4 ) ）

3 特殊操作符，属于，包含需要特殊处理

4 依赖底层数据库能力，将条件转化为where  比如user_id=123  money>100 或者0=1否定where

5 将逻辑转为where (user_id=1 AND money=100)



优化后的逻辑采用内存过滤，实现内存比较器和逻辑运算器

当时鉴于开发成本和测试成本采用了sql过滤器

缺点:
1 原始模型需要优先持久化下来采用依赖数据库

2  为了维持链路的完整性，明显的终止也需要数据库查询并返回

3 增加数据库压力，单元测试不好处理

#### 内存策略

1 实现各种通用比较器

2 实现逻辑运算符，注意安全性 